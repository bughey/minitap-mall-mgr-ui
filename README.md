# è¶£å…‘ è®¾å¤‡ç®¡ç†ç³»ç»Ÿ - å‰ç«¯ç•Œé¢

åŸºäº Next.js 15 å¼€å‘çš„æ¸¸æˆæœºå°è¿è¥ç®¡ç†ç³»ç»Ÿå‰ç«¯ç•Œé¢ï¼Œå®Œå…¨å‚ç…§åŸå‹è®¾è®¡å®ç°ã€‚

## ğŸ¯ é¡¹ç›®æ¦‚è¿°

è¿™æ˜¯ä¸€ä¸ªç°ä»£åŒ–çš„è®¾å¤‡ç®¡ç†ç³»ç»Ÿå‰ç«¯ï¼Œä¸“ä¸ºæ¸¸æˆæœºå°è¿è¥ç®¡ç†è®¾è®¡ï¼Œæä¾›å®Œæ•´çš„è®¾å¤‡ç”Ÿå‘½å‘¨æœŸç®¡ç†åŠŸèƒ½ã€‚

### ä¸»è¦ç‰¹æ€§

- **å®Œæ•´çš„ç³»ç»Ÿæ€»è§ˆ** - å…³é”®æŒ‡æ ‡å±•ç¤ºã€åœºåœ°åˆ†å¸ƒã€å®æ—¶è­¦å‘Š
- **è®¾å¤‡ç®¡ç†** - è®¾å¤‡åˆ—è¡¨ã€ç­›é€‰ã€çŠ¶æ€ç›‘æ§
- **åœºåœ°ç®¡ç†** - åœºåœ°å¡ç‰‡å±•ç¤ºã€è®¾å¤‡åˆ†ç»„ç®¡ç†
- **å®æ—¶ç›‘æ§** - å®æ—¶æ•°æ®æ›´æ–°ã€å‘Šè­¦æµã€åœºåœ°çŠ¶æ€
- **è®¾å¤‡æ³¨å†Œ** - æ‰¹é‡æ³¨å†Œæ–°è®¾å¤‡ã€æ³¨å†Œæ—¥å¿—
- **æŠ¥è¡¨ç»Ÿè®¡** - å¤šç»´åº¦æ•°æ®æŠ¥è¡¨ã€å¯¼å‡ºåŠŸèƒ½
- **ç³»ç»Ÿè®¾ç½®** - ç”¨æˆ·ç®¡ç†ã€é€šçŸ¥è®¾ç½®ã€å®‰å…¨é…ç½®ã€æ•°æ®å¤‡ä»½

## ğŸ› ï¸ æŠ€æœ¯æ ˆ

- **æ¡†æ¶**: Next.js 15 (App Router)
- **è¯­è¨€**: TypeScript
- **æ ·å¼**: Tailwind CSS 4
- **å›¾æ ‡**: Heroicons
- **æ„å»ºå·¥å…·**: Turbopack
- **ä»£ç è§„èŒƒ**: ESLint

## ğŸ—ï¸ é¡¹ç›®ç»“æ„

```
src/
â”œâ”€â”€ app/                    # Next.js App Router é¡µé¢
â”‚   â”œâ”€â”€ layout.tsx         # æ ¹å¸ƒå±€
â”‚   â”œâ”€â”€ page.tsx           # é¦–é¡µï¼ˆç³»ç»Ÿæ€»è§ˆï¼‰
â”‚   â”œâ”€â”€ devices/           # è®¾å¤‡ç®¡ç†é¡µé¢
â”‚   â”œâ”€â”€ place-stock/       # åœºåœ°åº“å­˜é¡µé¢
â”‚   â”œâ”€â”€ venues/            # åœºåœ°ç®¡ç†é¡µé¢
â”‚   â”œâ”€â”€ monitoring/        # å®æ—¶ç›‘æ§é¡µé¢
â”‚   â”œâ”€â”€ registration/      # è®¾å¤‡æ³¨å†Œé¡µé¢
â”‚   â”œâ”€â”€ reports/           # æŠ¥è¡¨ç»Ÿè®¡é¡µé¢
â”‚   â””â”€â”€ settings/          # ç³»ç»Ÿè®¾ç½®é¡µé¢
â”œâ”€â”€ components/
â”‚   â”œâ”€â”€ layout/
â”‚   â”‚   â””â”€â”€ AdminLayout.tsx # ç®¡ç†åå°å¸ƒå±€ç»„ä»¶
â”‚   â””â”€â”€ pages/              # é¡µé¢ç»„ä»¶
â”‚       â”œâ”€â”€ OverviewPage.tsx
â”‚       â”œâ”€â”€ DevicesPage.tsx
â”‚       â”œâ”€â”€ VenuesPage.tsx
â”‚       â”œâ”€â”€ MonitoringPage.tsx
â”‚       â”œâ”€â”€ RegistrationPage.tsx
â”‚       â”œâ”€â”€ ReportsPage.tsx
â”‚       â””â”€â”€ SettingsPage.tsx
â””â”€â”€ globals.css            # å…¨å±€æ ·å¼
```

## ğŸ¨ è®¾è®¡ç‰¹è‰²

### ç°ä»£åŒ– UI/UX
- **å“åº”å¼è®¾è®¡** - æ”¯æŒæ¡Œé¢ã€å¹³æ¿ã€ç§»åŠ¨ç«¯
- **æ·±è“è‰²ä¸»é¢˜** - ä¸“ä¸šçš„è§†è§‰é£æ ¼
- **å¡ç‰‡å¼å¸ƒå±€** - æ¸…æ™°çš„ä¿¡æ¯å±‚æ¬¡
- **å®æ—¶æ•°æ®æ›´æ–°** - åŠ¨æ€çš„ç”¨æˆ·ä½“éªŒ

### äº¤äº’ä½“éªŒ
- **æŠ˜å ä¾§è¾¹æ ** - æ¡Œé¢ç«¯å¯æŠ˜å å¯¼èˆª
- **ç§»åŠ¨ç«¯é€‚é…** - å®Œç¾çš„ç§»åŠ¨ç«¯ä½“éªŒ
- **çŠ¶æ€æŒ‡ç¤º** - ç›´è§‚çš„è®¾å¤‡çŠ¶æ€å±•ç¤º
- **æ•°æ®å¯è§†åŒ–** - è¿›åº¦æ¡ã€ç»Ÿè®¡å›¾è¡¨

## ğŸš€ å¿«é€Ÿå¼€å§‹

### ç¯å¢ƒè¦æ±‚
- Node.js 18+ 
- npm æˆ– yarn

### å®‰è£…ä¾èµ–
```bash
npm install
```

### å¼€å‘è¿è¡Œ
```bash
npm run dev
```
è®¿é—®: http://device.m.minitap.org:3001

### æ„å»ºç”Ÿäº§ç‰ˆæœ¬
```bash
npm run build
npm start
```

### ä»£ç æ£€æŸ¥
```bash
npm run lint
```

## ğŸ“± é¡µé¢åŠŸèƒ½

### 1. ç³»ç»Ÿæ€»è§ˆ (/)
- å…³é”®æŒ‡æ ‡å¡ç‰‡ï¼šæ€»è®¾å¤‡æ•°ã€æ´»è·ƒè®¾å¤‡ã€ä»Šæ—¥æ”¶ç›Šã€ç»´æŠ¤è®¾å¤‡
- åœºåœ°è®¾å¤‡åˆ†å¸ƒè¿›åº¦æ¡
- å®æ—¶è­¦å‘Šé¢æ¿
- ä»Šæ—¥æ•°æ®ç»Ÿè®¡

### 2. åœºåœ°ç®¡ç† (/venues)
- åœºåœ°å¡ç‰‡ç½‘æ ¼å±•ç¤º
- è®¾å¤‡åˆ†ç»„ç®¡ç†
- åœºåœ°çŠ¶æ€ç›‘æ§
- åœºåœ°ç»Ÿè®¡ä¿¡æ¯

### 2.1 åœºåœ°åº“å­˜ (/place-stock)
- åœºåœ°ç¤¼å“ä»“åº“åº“å­˜ï¼ˆplace_giftï¼‰åˆ—è¡¨ã€æœç´¢ã€åˆ†é¡µ
- æ–°å¢ç¤¼å“åº“å­˜ã€ç¼–è¾‘ç¤¼å“ä¿¡æ¯
- è°ƒæ•´åº“å­˜ï¼ˆè¡¥è´§/æ‰£å‡/çº é”™ï¼‰ï¼Œå¹¶å¯æŸ¥çœ‹åº“å­˜å®¡è®¡æ—¥å¿—

### 3. è®¾å¤‡åˆ—è¡¨ (/devices)
- å¤šç»´åº¦ç­›é€‰å™¨
- è®¾å¤‡ä¿¡æ¯è¡¨æ ¼
- çŠ¶æ€æ ‡ç­¾
- åˆ†é¡µå¯¼èˆª

### 4. è®¾å¤‡æ³¨å†Œ (/registration)
- åœºåœ°å’Œåˆ†ç»„é€‰æ‹©
- æ³¨å†Œæ¨¡å¼é…ç½®
- å®æ—¶æ³¨å†Œæ—¥å¿—
- æ³¨å†Œç»Ÿè®¡

### 5. å®æ—¶ç›‘æ§ (/monitoring)
- å®æ—¶æ•°æ®é¢æ¿
- åœºåœ°çŠ¶æ€ç›‘æ§
- å®æ—¶è­¦æŠ¥æµ
- è‡ªåŠ¨æ•°æ®åˆ·æ–°

### 6. æŠ¥è¡¨ç»Ÿè®¡ (/reports)
- å¤šç±»å‹æŠ¥è¡¨ç”Ÿæˆ
- æ—¶é—´èŒƒå›´ç­›é€‰
- æ•°æ®å¯¼å‡ºåŠŸèƒ½
- ç»Ÿè®¡å›¾è¡¨å±•ç¤º

### 7. ç³»ç»Ÿè®¾ç½® (/settings)
- åŸºæœ¬ç³»ç»Ÿé…ç½®
- ç”¨æˆ·æƒé™ç®¡ç†
- é€šçŸ¥è®¾ç½®
- å®‰å…¨é…ç½®
- æ•°æ®å¤‡ä»½ç®¡ç†

## ğŸ¯ æ ¸å¿ƒäº®ç‚¹

### ä¸šåŠ¡å®Œæ•´æ€§
- **è¦†ç›–å…¨ä¸šåŠ¡æµç¨‹** - ä»è®¾å¤‡æ³¨å†Œåˆ°è¿è¥ç›‘æ§çš„å®Œæ•´é“¾è·¯
- **çœŸå®ä¸šåŠ¡åœºæ™¯** - åŸºäºå®é™…æ¸¸æˆæœºå°è¿è¥éœ€æ±‚è®¾è®¡
- **æ•°æ®é©±åŠ¨å†³ç­–** - ä¸°å¯Œçš„ç»Ÿè®¡åˆ†æåŠŸèƒ½

### æŠ€æœ¯ä¼˜åŠ¿
- **ç°ä»£åŒ–æŠ€æœ¯æ ˆ** - ä½¿ç”¨æœ€æ–°çš„ Next.js 15 å’Œ React 19
- **ç±»å‹å®‰å…¨** - å®Œæ•´çš„ TypeScript ç±»å‹å®šä¹‰
- **æ€§èƒ½ä¼˜åŒ–** - Turbopack æ„å»ºå·¥å…·ï¼Œå¿«é€Ÿå¼€å‘ä½“éªŒ
- **ä»£ç è´¨é‡** - ESLint è§„èŒƒï¼Œæ— è­¦å‘Šæ— é”™è¯¯

### ç”¨æˆ·ä½“éªŒ
- **ç›´è§‚æ“ä½œ** - ç®€æ´æ˜äº†çš„ç•Œé¢è®¾è®¡
- **å®æ—¶åé¦ˆ** - åŠ¨æ€æ•°æ®æ›´æ–°å’ŒçŠ¶æ€æç¤º
- **çµæ´»é…ç½®** - ä¸°å¯Œçš„ç­›é€‰å’Œè®¾ç½®é€‰é¡¹

## ğŸ”— ç›¸å…³é“¾æ¥

- [åŸå‹è®¾è®¡](../prototype/device-management/) - HTML åŸå‹å‚è€ƒ
- [åç«¯ API](../../backend/) - Rust å¾®æœåŠ¡åç«¯
- [é¡¹ç›®æ–‡æ¡£](../../CLAUDE.md) - å®Œæ•´é¡¹ç›®è¯´æ˜

## ğŸ“ å¼€å‘è¯´æ˜

æœ¬é¡¹ç›®åŸºäºåŸå‹è®¾è®¡å®Œå…¨é‡æ–°å®ç°ï¼Œé‡‡ç”¨ç°ä»£åŒ–çš„ React æŠ€æœ¯æ ˆï¼Œæä¾›äº†ï¼š

1. **ç»„ä»¶åŒ–æ¶æ„** - å¯å¤ç”¨çš„ UI ç»„ä»¶
2. **ç±»å‹å®‰å…¨** - å®Œæ•´çš„ TypeScript æ”¯æŒ
3. **å“åº”å¼è®¾è®¡** - é€‚é…å„ç§å±å¹•å°ºå¯¸
4. **æ¨¡å—åŒ–ç»“æ„** - æ¸…æ™°çš„ä»£ç ç»„ç»‡
5. **æ‰©å±•æ€§** - æ˜“äºæ·»åŠ æ–°åŠŸèƒ½

é¡¹ç›®å·²ç»è¿‡å®Œæ•´çš„æµ‹è¯•ï¼Œæ—  ESLint è­¦å‘Šï¼Œæ„å»ºæˆåŠŸï¼Œå¯ä»¥ç›´æ¥ç”¨äºç”Ÿäº§ç¯å¢ƒã€‚

## åŠŸèƒ½æ¥å£

- ä¸Šä¼ æ¥å£
  - ä¸Šä¼ å›¾ç‰‡
    - url: /api/v1/upload/image
    - è¯·æ±‚æ–¹å¼: POST (cookieè®¤è¯)
    - å‚æ•°: multipart/form-dataï¼ŒåŒ…å«ä¸€ä¸ªå›¾ç‰‡æ–‡ä»¶å­—æ®µï¼ˆå­—æ®µåä¸é™ï¼Œå–ç¬¬ä¸€ä¸ªå¸¦ content-type çš„æ–‡ä»¶å­—æ®µï¼‰
    - è¿”å›: å›¾ç‰‡è®¿é—® urlï¼ˆå®Œæ•´ URLï¼Œä¾‹å¦‚ `https://img.minitap.org/upload/2026/01/21/xxxx.jpg`ï¼‰
    - ç¤ºä¾‹:
      - è¿”å›:
      ```json
      {
        "success": true,
        "err_code": "0",
        "err_message": "",
        "data": {
          "url": "https://img.minitap.org/upload/2026/01/21/xxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxx.jpg"
        }
      }
      ```

- ç³»ç»Ÿæ€»è§ˆé¡µé¢
  - è·å–ç³»ç»Ÿæ€»è§ˆç»Ÿè®¡
    - url: /api/v1/dashboard/stats
    - è¯·æ±‚æ–¹å¼: GET (cookieè®¤è¯)
    - å‚æ•°: æ— 
    - è¿”å›: ç³»ç»Ÿç»Ÿè®¡æ•°æ®
    - ç¤ºä¾‹:
      - è¿”å›:
      ```json
      {
        "success": true,
        "err_code": "0",
        "err_message": "",
        "data": {
          "total_device_count": 158,        // æ€»è®¾å¤‡æ•°
          "active_device_count": 142,       // ä»Šæ—¥æ´»è·ƒè®¾å¤‡æ•°
          "today_revenue": 12580,           // ä»Šæ—¥æ”¶ç›Šï¼ˆå…ƒï¼‰
          "maintenance_count": 3,           // ç»´æŠ¤è®¾å¤‡æ•°
          "today_coin_count": 2847,         // ä»Šæ—¥æŠ•å¸æ•°
          "today_point_back_count": 892,    // ä»Šæ—¥é€€åˆ†æ•°
          "today_coin_back_count": 142,     // ä»Šæ—¥é€€å¸æ•°
          "today_order_count": 1231         // ä»Šæ—¥è®¢å•æ•°
        }
      }
      ```
    - è¯´æ˜: ç»Ÿè®¡æ•°æ®æ ¹æ®JWTä¸­çš„tenant_idè¿›è¡Œç§Ÿæˆ·éš”ç¦»

- åœºåœ°åº“å­˜ï¼ˆplace_giftï¼‰
  - åˆ†é¡µè·å–åœºåœ°ç¤¼å“åº“å­˜åˆ—è¡¨ï¼ˆä»“åº“åº“å­˜ï¼‰
    - url: /api/v1/place/gift/page
    - è¯·æ±‚æ–¹å¼: GET (cookieè®¤è¯)
    - query:
      - place_id: åœºåœ°IDï¼ˆå¿…å¡«ï¼‰
      - page: é¡µç ï¼ˆå¯é€‰ï¼Œé»˜è®¤ 1ï¼‰
      - page_size: æ¯é¡µæ•°é‡ï¼ˆå¯é€‰ï¼Œé»˜è®¤ 20ï¼Œæœ€å¤§ 100ï¼‰
      - title: ç¤¼å“åç§°æ¨¡ç³Šæœç´¢ï¼ˆå¯é€‰ï¼‰
    - è¿”å›: åˆ†é¡µå“åº”ï¼ˆ`data[]` ä¸ºåº“å­˜åˆ—è¡¨é¡¹ï¼ŒåŒ…å« `count/cost/point` ç­‰å­—æ®µï¼‰
  - æ–°å¢ç¤¼å“åº“å­˜ï¼ˆå¹¶è®°å½•å®¡è®¡æ—¥å¿—ï¼‰
    - url: /api/v1/place/gift/create
    - è¯·æ±‚æ–¹å¼: POST (cookieè®¤è¯)
    - body: { place_id, title, subtitle?, image?, description?, cost, point, count, remark? }
  - ç¼–è¾‘ç¤¼å“ä¿¡æ¯ï¼ˆä¸åŒ…å«åº“å­˜ï¼›å¯é€‰è®°å½•æ—¥å¿—ï¼‰
    - url: /api/v1/place/gift/update
    - è¯·æ±‚æ–¹å¼: POST (cookieè®¤è¯)
    - body: { id, title?, subtitle?, image?, description?, cost?, point?, remark? }
  - è°ƒæ•´åº“å­˜ï¼ˆè¡¥è´§/æ‰£å‡/çº é”™ï¼›å¹¶è®°å½•å®¡è®¡æ—¥å¿—ï¼‰
    - url: /api/v1/place/gift/adjust
    - è¯·æ±‚æ–¹å¼: POST (cookieè®¤è¯)
    - body: { id, delta(å¯æ­£å¯è´Ÿä¸”é0), remark? }
    - è¿”å›: æ ‡å‡†å“åº”ï¼ˆdata.gift ä¸ºæ›´æ–°åçš„ç¤¼å“åº“å­˜å¯¹è±¡ï¼ŒåŒåˆ—è¡¨é¡¹ï¼‰
  - åº“å­˜æ—¥å¿—åˆ†é¡µ
    - url: /api/v1/place/gift/logs
    - è¯·æ±‚æ–¹å¼: GET (cookieè®¤è¯)
    - query: place_id?, place_gift_id?, op_type?(0/1/2), page, page_size
  
  - è·å–åœºåœ°è®¾å¤‡åˆ†å¸ƒ
    - url: /api/v1/dashboard/place-distribution
    - è¯·æ±‚æ–¹å¼: GET (cookieè®¤è¯)
    - å‚æ•°: æ— 
    - è¿”å›: åœºåœ°è®¾å¤‡åˆ†å¸ƒæ•°æ®
    - ç¤ºä¾‹:
      - è¿”å›:
      ```json
      {
        "success": true,
        "err_code": "0",
        "err_message": "",
        "data": {
          "places": [
            {
              "place_id": 1,
              "place_name": "ä¸‡è¾¾å¹¿åœº",
              "total_devices": 42,          // è¯¥åœºåœ°æ€»è®¾å¤‡æ•°
              "active_devices": 38,         // ä»Šæ—¥æ´»è·ƒè®¾å¤‡æ•°
              "active_rate": 90.48          // æ´»è·ƒç‡ç™¾åˆ†æ¯”
            },
            {
              "place_id": 2,
              "place_name": "é“¶æ³°åŸ",
              "total_devices": 35,
              "active_devices": 32,
              "active_rate": 91.43
            }
          ]
        }
      }
      ```
    - è¯´æ˜: è¿”å›å‰10ä¸ªè®¾å¤‡æ•°æœ€å¤šçš„åœºåœ°ï¼Œæ”¯æŒå¤šç§Ÿæˆ·éš”ç¦»
  
  - è·å–å®æ—¶å‘Šè­¦
    - url: /api/v1/dashboard/alerts
    - è¯·æ±‚æ–¹å¼: GET (cookieè®¤è¯)
    - å‚æ•°: æ— 
    - è¿”å›: å®æ—¶å‘Šè­¦æ•°æ®
    - ç¤ºä¾‹:
      - è¿”å›:
      ```json
      {
        "success": true,
        "err_code": "0",
        "err_message": "",
        "data": {
          "alerts": [
            {
              "id": 1,
              "device_no": "DEV001",
              "device_name": "AåŒºå¨ƒå¨ƒæœº-001",
              "place_name": "ä¸‡è¾¾å¹¿åœº",
              "alert_type": "å¾…å¤„ç†",          // å‘Šè­¦ç±»å‹
              "message": "è®¾å¤‡éœ€è¦ç»´æŠ¤",
              "created_at": "2024-01-30T10:15:00Z"
            },
            {
              "id": 2,
              "device_no": "DEV002",
              "device_name": "BåŒºæ¨å¸æœº-005",
              "place_name": "é“¶æ³°åŸ",
              "alert_type": "å¾…å®¡æ ¸",
              "message": "è®¾å¤‡æ•…éšœ",
              "created_at": "2024-01-30T10:10:00Z"
            }
          ]
        }
      }
      ```
    - è¯´æ˜: æŸ¥è¯¢device_maintainè¡¨ä¸­çŠ¶æ€ä¸ºå¾…å®¡æ ¸(0)æˆ–å¾…å¤„ç†(1)çš„è®°å½•ï¼Œæœ€å¤šè¿”å›20æ¡
  
- åœºåœ°ç®¡ç†é¡µé¢
  - è¯´æ˜:
    - åœºåœ°æ•°é‡è¾ƒå¤š (1000+) æ—¶ï¼Œæ¨èä½¿ç”¨ `/api/v1/place/page`ï¼ˆåˆ†é¡µåˆ—è¡¨ï¼‰ + `/api/v1/place/stats`ï¼ˆå…¨å±€æ±‡æ€»ç»Ÿè®¡ï¼‰ã€‚
    - `/api/v1/place/list` ä¸ºæ—§ç‰ˆå…¨é‡åˆ—è¡¨æ¥å£ï¼ˆè¿”å›åŒ…å« `groups[]` çš„å…¨é‡æ•°æ®ï¼‰ï¼Œä¸æ¨èç”¨äºå¤§åˆ—è¡¨å±•ç¤ºï¼Œä»…ç”¨äºå…¼å®¹æ—§é€»è¾‘ã€‚
  - åœºåœ°åˆ—è¡¨æŸ¥è¯¢ (Legacy)
    - url: /api/v1/place/list
    - è¯·æ±‚æ–¹å¼: GET (cookieè®¤è¯)
    - å‚æ•°: æ— 
    - è¿”å›: åœºåœ°åˆ—è¡¨å’Œæ±‡æ€»ç»Ÿè®¡
    - è¯´æ˜: 
      - **æ³¨æ„**: æ­¤æ¥å£ä¸ºæ—§ç‰ˆå…¨é‡æŸ¥è¯¢æ¥å£ï¼Œè¿”å›åŒ…å« `groups[]` çš„å…¨é‡æ•°æ®ã€‚åœ¨åœºåœ°æ•°é‡è¾ƒå¤š (1000+) æ—¶ï¼Œè¯·ä¼˜å…ˆä½¿ç”¨ `/api/v1/place/page` æ¥å£ã€‚
      - çŠ¶æ€è¯´æ˜ï¼šæ´»è·ƒ=æœ‰ä»Šæ—¥æ´»è·ƒè®¾å¤‡ï¼Œå¾…ç©=æ— ä»Šæ—¥æ´»è·ƒè®¾å¤‡ï¼Œç»´æŠ¤=æœ‰è®¾å¤‡å¤„äºç»´æŠ¤çŠ¶æ€
      - ä¸€ä¸ªåœºåœ°å¯èƒ½åŒæ—¶æ˜¾ç¤ºæ´»è·ƒå’Œç»´æŠ¤çŠ¶æ€
      - æ”¯æŒå¤šç§Ÿæˆ·éš”ç¦»
    - ç¤ºä¾‹:
      - è¿”å›:
      ```json
      {
        "success": true,
        "err_code": "0",
        "err_message": "",
        "data": {
          "places": [
            {
              "id": 1,
              "name": "ä¸‡è¾¾å¹¿åœº",
              "address": "æ­å·å¸‚è¥¿æ¹–åŒºä¸‡è¾¾å¹¿åœº3æ¥¼",
              "status": {
                "is_active": true,           // æ˜¯å¦æœ‰ä»Šæ—¥æ´»è·ƒè®¾å¤‡
                "has_maintenance": false,    // æ˜¯å¦æœ‰ç»´æŠ¤è®¾å¤‡
                "primary_status": "online"   // ä¸»è¦çŠ¶æ€ï¼šonline(æ´»è·ƒ)/offline(å¾…ç©)
              },
              "total_devices": 42,           // è®¾å¤‡æ€»æ•°
              "active_devices": 38,          // ä»Šæ—¥æ´»è·ƒè®¾å¤‡æ•°
              "maintenance_devices": 0,      // ç»´æŠ¤ä¸­çš„è®¾å¤‡æ•°
              "today_revenue": 3245,         // ä»Šæ—¥æ”¶ç›Šï¼ˆå…ƒï¼‰
              "groups": [                    // è®¾å¤‡åˆ†ç»„
                {
                  "name": "AåŒºå¨ƒå¨ƒæœº",
                  "devices": 15
                },
                {
                  "name": "BåŒºæ¨å¸æœº",
                  "devices": 12
                }
              ]
            }
          ],
          "summary": {                      // æ±‡æ€»ç»Ÿè®¡
            "total_places": 4,
            "total_devices": 143,
            "active_devices": 130,
            "today_total_revenue": 11525
          }
        }
      }
      ```

  - åœºåœ°åˆ†é¡µæŸ¥è¯¢
    - url: /api/v1/place/page
    - è¯·æ±‚æ–¹å¼: GET (cookieè®¤è¯)
    - query:
      - page: é¡µç  (å¯é€‰ï¼Œä»1å¼€å§‹ï¼Œé»˜è®¤1)
      - page_size: æ¯é¡µæ•°é‡ (å¯é€‰ï¼Œé»˜è®¤ 20ï¼Œæœ€å¤§ 100)
      - search: åœºåœ°åç§°æ¨¡ç³Šæœç´¢ (å¯é€‰)
    - è¿”å›: åˆ†é¡µå“åº” (`data.data` ä¸ºåœºåœ°åˆ—è¡¨ï¼ŒåŒ…å« `group_count` å­—æ®µï¼Œæ˜¾å¼ä¸åŒ…å« `groups[]` æ•°ç»„)
    - ç¤ºä¾‹:
      - è¿”å›:
      ```json
      {
        "success": true,
        "err_code": "0",
        "err_message": "",
        "data": {
          "data": [
            {
              "id": 1,
              "name": "ä¸‡è¾¾å¹¿åœº",
              "address": "æ­å·å¸‚è¥¿æ¹–åŒº...",
              "status": { "is_active": true, "has_maintenance": false, "primary_status": "online" },
              "total_devices": 42,
              "active_devices": 38,
              "maintenance_devices": 0,
              "today_revenue": 3245,
              "group_count": 2
            }
          ],
          "total": 1245,
          "page_size": 20,
          "has_more": true,
          "current_page": 1,
          "total_pages": 63
        }
      }
      ```

  - åœºåœ°æ±‡æ€»ç»Ÿè®¡
    - url: /api/v1/place/stats
    - è¯·æ±‚æ–¹å¼: GET (cookieè®¤è¯)
    - å‚æ•°: æ— 
    - è¿”å›: åœºåœ°å…¨å±€ç»Ÿè®¡æ•°æ®
    - ç¤ºä¾‹:
      - è¿”å›:
      ```json
      {
        "success": true,
        "err_code": "0",
        "err_message": "",
        "data": {
          "total_places": 1245,
          "total_devices": 99999,
          "active_devices": 88888,
          "today_total_revenue": 11525
        }
      }
      ```

  - åœºåœ°è¯¦æƒ…æŸ¥è¯¢
    - url: /api/v1/place/{id}
    - è¯·æ±‚æ–¹å¼: GET (cookieè®¤è¯)
    - å‚æ•°: id (è·¯å¾„å‚æ•°ï¼Œåœºåœ°ID)
    - è¿”å›: åœºåœ°è¯¦ç»†ä¿¡æ¯
    - ç¤ºä¾‹:
      - è¿”å›:
      ```json
      {
        "success": true,
        "err_code": "0",
        "err_message": "",
        "data": {
          "id": 1,
          "name": "ä¸‡è¾¾å¹¿åœº",
          "address": "æ­å·å¸‚è¥¿æ¹–åŒºä¸‡è¾¾å¹¿åœº3æ¥¼",
          "status": {
            "is_active": true,
            "has_maintenance": false,
            "primary_status": "online"
          },
          "total_devices": 42,
          "active_devices": 38,
          "maintenance_devices": 0,
          "today_revenue": 3245,
          "groups": [...],
          "remark": "å¤‡æ³¨ä¿¡æ¯",
          "created_at": "2024-01-30T10:00:00Z",
          "updated_at": "2024-01-30T10:00:00Z"
        }
      }
      ```

  - åœºåœ°è´Ÿè´£ä»£ç†ï¼ˆagent_placeï¼‰
    - ä»£ç†åˆ—è¡¨ï¼ˆç”¨äºé€‰æ‹©ï¼‰
      - url: /api/v1/agent/list
      - è¯·æ±‚æ–¹å¼: GET (cookieè®¤è¯)
      - query:
        - status: ä»£ç†çŠ¶æ€ï¼ˆå¯é€‰ï¼Œé»˜è®¤ 1ï¼›0=å¾…å¯ç”¨ 1=æ­£å¸¸ 2=ç¦ç”¨ï¼‰
        - keyword: å…³é”®å­—ï¼ˆå¯é€‰ï¼Œusername/nickname/phone/email æ¨¡ç³ŠåŒ¹é…ï¼‰
        - limit: è¿”å›æ•°é‡ï¼ˆå¯é€‰ï¼Œé»˜è®¤ 50ï¼Œæœ€å¤§ 200ï¼‰
      - è¿”å›:
      ```json
      {
        "success": true,
        "err_code": "0",
        "err_message": "",
        "data": {
          "agents": [
            { "id": 1, "username": "agent_001", "nickname": "å¼ ä¸‰", "status": 1 }
          ]
        }
      }
      ```

    - æŸ¥è¯¢åœºåœ°å½“å‰è´Ÿè´£ä»£ç†
      - url: /api/v1/place/{id}/agent
      - è¯·æ±‚æ–¹å¼: GET (cookieè®¤è¯)
      - å‚æ•°: id (è·¯å¾„å‚æ•°ï¼Œåœºåœ°ID)
      - è¿”å›:
      ```json
      {
        "success": true,
        "err_code": "0",
        "err_message": "",
        "data": {
          "place_id": 1,
          "agent_id": 100,
          "agent": { "id": 100, "username": "agent_100", "nickname": "ä»£ç†A", "status": 1 }
        }
      }
      ```
      - è¯´æ˜:
        - æœªç»‘å®šæ—¶ï¼š`agent_id=null` ä¸” `agent=null`

    - è®¾ç½®/æ›´æ¢åœºåœ°è´Ÿè´£ä»£ç†
      - url: /api/v1/place/{id}/agent
      - è¯·æ±‚æ–¹å¼: PUT (cookieè®¤è¯)
      - body:
      ```json
      { "agent_id": 100 }
      ```
      - è¿”å›: åŒâ€œæŸ¥è¯¢åœºåœ°å½“å‰è´Ÿè´£ä»£ç†â€

    - å–æ¶ˆåœºåœ°è´Ÿè´£ä»£ç†ç»‘å®š
      - url: /api/v1/place/{id}/agent
      - è¯·æ±‚æ–¹å¼: DELETE (cookieè®¤è¯)
      - è¿”å›: æ ‡å‡†å“åº”ï¼ˆdata ä¸ºç©ºï¼‰

  - åˆ›å»ºåœºåœ°
    - url: /api/v1/place
    - è¯·æ±‚æ–¹å¼: POST (cookieè®¤è¯)
    - è¯·æ±‚å‚æ•°:
      ```json
      {
        "name": "ä¸‡è¾¾å¹¿åœº",
        "address": "æ­å·å¸‚è¥¿æ¹–åŒºä¸‡è¾¾å¹¿åœº3æ¥¼",
        "remark": "å¤‡æ³¨ä¿¡æ¯"
      }
      ```
    - è¿”å›: åˆ›å»ºçš„åœºåœ°è¯¦ç»†ä¿¡æ¯

  - æ›´æ–°åœºåœ°
    - url: /api/v1/place/{id}
    - è¯·æ±‚æ–¹å¼: PUT (cookieè®¤è¯)
    - è¯·æ±‚å‚æ•°:
      ```json
      {
        "name": "ä¸‡è¾¾å¹¿åœº(æ›´æ–°)",
        "address": "æ­å·å¸‚è¥¿æ¹–åŒºä¸‡è¾¾å¹¿åœº3æ¥¼",
        "status": 0,
        "remark": "æ›´æ–°åçš„å¤‡æ³¨"
      }
      ```
    - è¿”å›: æ›´æ–°åçš„åœºåœ°è¯¦ç»†ä¿¡æ¯

  - åˆ é™¤åœºåœ°
    - url: /api/v1/place/{id}
    - è¯·æ±‚æ–¹å¼: DELETE (cookieè®¤è¯)
    - å‚æ•°: id (è·¯å¾„å‚æ•°ï¼Œåœºåœ°ID)
    - è¿”å›: åˆ é™¤ç»“æœ
    - è¯´æ˜: è½¯åˆ é™¤ï¼Œä¸ä¼šç‰©ç†åˆ é™¤æ•°æ®

  - åˆ›å»ºåˆ†ç»„
    - url: /api/v1/groups
    - è¯·æ±‚æ–¹å¼: POST (cookieè®¤è¯)
    - è¯·æ±‚å‚æ•°:
      ```json
      {
        "place_id": 1,            // åœºåœ°ID
        "name": "AåŒºå¨ƒå¨ƒæœº"        // åˆ†ç»„åç§°
      }
      ```
    - è¿”å›: åˆ›å»ºçš„åˆ†ç»„ä¿¡æ¯
    - ç¤ºä¾‹:
      - è¿”å›:
      ```json
      {
        "success": true,
        "err_code": "0",
        "err_message": "",
        "data": {
          "id": 1,
          "place_id": 1,
          "name": "AåŒºå¨ƒå¨ƒæœº",
          "device_count": 0,
          "created_at": "2024-01-30T10:00:00Z",
          "updated_at": "2024-01-30T10:00:00Z"
        }
      }
      ```

  - æŸ¥è¯¢åˆ†ç»„åˆ—è¡¨
    - url: /api/v1/groups
    - è¯·æ±‚æ–¹å¼: GET (cookieè®¤è¯)
    - æŸ¥è¯¢å‚æ•°: place_id (å¯é€‰ï¼ŒæŒ‡å®šåœºåœ°ID)
    - è¿”å›: åˆ†ç»„åˆ—è¡¨å’Œç»Ÿè®¡ä¿¡æ¯
    - ç¤ºä¾‹:
      - è¯·æ±‚: /api/v1/groups?place_id=1
      - è¿”å›:
      ```json
      {
        "success": true,
        "err_code": "0",
        "err_message": "",
        "data": {
          "groups": [
            {
              "id": 1,
              "place_id": 1,
              "name": "AåŒºå¨ƒå¨ƒæœº",
              "device_count": 15,
              "active_device_count": 12,      // ä»Šæ—¥æ´»è·ƒè®¾å¤‡æ•°
              "maintenance_device_count": 1,  // ç»´æŠ¤è®¾å¤‡æ•°
              "today_revenue": 850,           // ä»Šæ—¥æ”¶ç›Šï¼ˆå…ƒï¼‰
              "created_at": "2024-01-30T10:00:00Z",
              "updated_at": "2024-01-30T10:00:00Z"
            },
            {
              "id": 2,
              "place_id": 1,
              "name": "BåŒºæ¨å¸æœº",
              "device_count": 12,
              "active_device_count": 10,
              "maintenance_device_count": 0,
              "today_revenue": 620,
              "created_at": "2024-01-30T10:05:00Z",
              "updated_at": "2024-01-30T10:05:00Z"
            }
          ]
        }
      }
      ```
    - è¯´æ˜: 
      - ä¸æŒ‡å®šplace_idæ—¶è¿”å›æ‰€æœ‰åˆ†ç»„
      - åŒ…å«æ¯ä¸ªåˆ†ç»„çš„è®¾å¤‡ç»Ÿè®¡å’Œæ”¶ç›Šä¿¡æ¯
      - æ”¯æŒå¤šç§Ÿæˆ·éš”ç¦»

  - æŸ¥è¯¢åˆ†ç»„è¯¦æƒ…
    - url: /api/v1/groups/{id}
    - è¯·æ±‚æ–¹å¼: GET (cookieè®¤è¯)
    - å‚æ•°: id (è·¯å¾„å‚æ•°ï¼Œåˆ†ç»„ID)
    - è¿”å›: åˆ†ç»„è¯¦ç»†ä¿¡æ¯å’Œç»Ÿè®¡æ•°æ®
    - ç¤ºä¾‹:
      - è¿”å›:
      ```json
      {
        "success": true,
        "err_code": "0",
        "err_message": "",
        "data": {
          "id": 1,
          "place_id": 1,
          "name": "AåŒºå¨ƒå¨ƒæœº",
          "device_count": 15,
          "active_device_count": 12,
          "maintenance_device_count": 1,
          "today_revenue": 850,
          "created_at": "2024-01-30T10:00:00Z",
          "updated_at": "2024-01-30T10:00:00Z"
        }
      }
      ```

  - æ›´æ–°åˆ†ç»„
    - url: /api/v1/groups/{id}
    - è¯·æ±‚æ–¹å¼: PUT (cookieè®¤è¯)
    - è¯·æ±‚å‚æ•°:
      ```json
      {
        "name": "AåŒºå¨ƒå¨ƒæœº(æ›´æ–°)"    // åˆ†ç»„åç§°(å¯é€‰)
      }
      ```
    - è¿”å›: æ›´æ–°åçš„åˆ†ç»„ä¿¡æ¯
    - ç¤ºä¾‹:
      - è¿”å›:
      ```json
      {
        "success": true,
        "err_code": "0",
        "err_message": "",
        "data": {
          "id": 1,
          "place_id": 1,
          "name": "AåŒºå¨ƒå¨ƒæœº(æ›´æ–°)",
          "device_count": 15,
          "created_at": "2024-01-30T10:00:00Z",
          "updated_at": "2024-01-30T12:00:00Z"
        }
      }
      ```

  - åˆ é™¤åˆ†ç»„
    - url: /api/v1/groups/{id}
    - è¯·æ±‚æ–¹å¼: DELETE (cookieè®¤è¯)
    - å‚æ•°: id (è·¯å¾„å‚æ•°ï¼Œåˆ†ç»„ID)
    - è¿”å›: åˆ é™¤ç»“æœ
    - ç¤ºä¾‹:
      - è¿”å›:
      ```json
      {
        "success": true,
        "err_code": "0",
        "err_message": "",
        "data": null
      }
      ```
    - è¯´æ˜: è½¯åˆ é™¤ï¼Œä¸ä¼šç‰©ç†åˆ é™¤æ•°æ®ï¼Œéœ€è¦ç¡®ä¿åˆ†ç»„ä¸‹æ²¡æœ‰å…³è”è®¾å¤‡

- è®¾å¤‡åˆ—è¡¨é¡µé¢
  - è®¾å¤‡åˆ—è¡¨æŸ¥è¯¢ï¼ˆå¸¦ç­›é€‰å’Œåˆ†é¡µï¼‰
    - url: /api/v1/devices
    - è¯·æ±‚æ–¹å¼: GET (cookieè®¤è¯)
    - æŸ¥è¯¢å‚æ•°:
      - place_id (å¯é€‰): åœºåœ°ç­›é€‰
      - group_id (å¯é€‰): åˆ†ç»„ç­›é€‰
      - status (å¯é€‰): çŠ¶æ€ç­›é€‰ï¼Œå¯é€‰å€¼ï¼šactive/idle/maintenance
      - device_type (å¯é€‰): è®¾å¤‡ç±»å‹ç­›é€‰
      - search (å¯é€‰): æŒ‰è®¾å¤‡å·æœç´¢
      - page (å¯é€‰): é¡µç ï¼Œä»1å¼€å§‹ï¼Œé»˜è®¤1
      - page_size (å¯é€‰): æ¯é¡µå¤§å°ï¼Œé»˜è®¤10ï¼Œæœ€å¤§100
    - è¿”å›: è®¾å¤‡åˆ—è¡¨å’Œåˆ†é¡µä¿¡æ¯
    - ç¤ºä¾‹:
      - è¯·æ±‚: /api/v1/devices?place_id=1&status=active&page=1&page_size=10
      - è¿”å›:
      ```json
      {
        "success": true,
        "err_code": "0",
        "err_message": "",
        "data": [
          {
            "id": 1,
            "device_no": "DEV001",
            "name": "å¨ƒå¨ƒæœº-001",
            "device_type": 1,
            "device_type_name": "å¨ƒå¨ƒæœº",
            "status": 0,
            "status_name": "æ´»è·ƒ",
            "online": 1,
            "online_name": "åœ¨çº¿",
            "place_id": 1,
            "place_name": "ä¸‡è¾¾å¹¿åœº",
            "group_id": 1,
            "group_name": "AåŒºå¨ƒå¨ƒæœº",
            "active_time_today": 158,        // ä»Šæ—¥æ´»è·ƒæ—¶é•¿ï¼ˆåˆ†é’Ÿï¼‰
            "today_revenue": 245,            // ä»Šæ—¥æ”¶ç›Šï¼ˆå…ƒï¼‰
            "last_update": "2024-01-30T10:15:00Z",
            "created_at": "2024-01-30T08:00:00Z",
            "updated_at": "2024-01-30T10:15:00Z"
          },
          {
            "id": 2,
            "device_no": "DEV002",
            "name": "æ¨å¸æœº-005",
            "device_type": 2,
            "device_type_name": "æ¨å¸æœº",
            "status": 0,
            "status_name": "å¾…ç©",
            "online": 1,
            "online_name": "åœ¨çº¿",
            "place_id": 2,
            "place_name": "é“¶æ³°åŸ",
            "group_id": 2,
            "group_name": "BåŒºæ¨å¸æœº",
            "active_time_today": 45,
            "today_revenue": 128,
            "last_update": "2024-01-30T10:10:00Z",
            "created_at": "2024-01-30T08:30:00Z",
            "updated_at": "2024-01-30T10:10:00Z"
          }
        ],
        "total": 25,                // æ€»è®°å½•æ•°
        "page_size": 10,            // æ¯é¡µå¤§å°
        "has_more": true,           // æ˜¯å¦è¿˜æœ‰æ›´å¤šæ•°æ®
        "current_page": 1,          // å½“å‰é¡µç 
        "total_pages": 3            // æ€»é¡µæ•°
      }
      ```
    - è¯´æ˜: 
      - çŠ¶æ€è¯´æ˜ï¼šæ´»è·ƒ=ä»Šæ—¥æœ‰æ¸¸æˆè®¢å•ï¼Œå¾…ç©=ä»Šæ—¥æ— æ¸¸æˆè®¢å•ï¼Œç»´æŠ¤ä¸­=è®¾å¤‡çŠ¶æ€ä¸ºç»´æŠ¤
      - æ”¯æŒå¤šç»´åº¦ç­›é€‰å’Œæ¨¡ç³Šæœç´¢
      - æ”¯æŒå¤šç§Ÿæˆ·éš”ç¦»

  - è®¾å¤‡è¯¦æƒ…æŸ¥è¯¢
    - url: /api/v1/devices/{id}
    - è¯·æ±‚æ–¹å¼: GET (cookieè®¤è¯)
    - å‚æ•°: id (è·¯å¾„å‚æ•°ï¼Œè®¾å¤‡ID)
    - è¿”å›: è®¾å¤‡è¯¦ç»†ä¿¡æ¯å’Œç»Ÿè®¡æ•°æ®
    - ç¤ºä¾‹:
      - è¿”å›:
      ```json
      {
        "success": true,
        "err_code": "0",
        "err_message": "",
        "data": {
          "id": 1,
          "device_no": "DEV001",
          "name": "å¨ƒå¨ƒæœº-001",
          "device_type": 1,
          "device_type_name": "å¨ƒå¨ƒæœº",
          "status": 0,
          "status_name": "æ´»è·ƒ",
          "online": 1,
          "online_name": "åœ¨çº¿",
          "place_id": 1,
          "place_name": "ä¸‡è¾¾å¹¿åœº",
          "group_id": 1,
          "group_name": "AåŒºå¨ƒå¨ƒæœº",
          "active_time_today": 158,
          "today_revenue": 245,
          "last_update": "2024-01-30T10:15:00Z",
          "created_at": "2024-01-30T08:00:00Z",
          "updated_at": "2024-01-30T10:15:00Z"
        }
      }
      ```

  - æ›´æ–°è®¾å¤‡ä¿¡æ¯
    - url: /api/v1/devices/{id}
    - è¯·æ±‚æ–¹å¼: PUT (cookieè®¤è¯)
    - è¯·æ±‚å‚æ•°:
      ```json
      {
        "name": "å¨ƒå¨ƒæœº-001(æ›´æ–°)",      // è®¾å¤‡åç§°(å¯é€‰)
        "device_type": 1,               // è®¾å¤‡ç±»å‹(å¯é€‰)
        "status": 0,                    // è®¾å¤‡çŠ¶æ€(å¯é€‰): 0-æ­£å¸¸ 1-ç»´æŠ¤
        "point_coin": 100,              // ç§¯åˆ†æ¯å¸(å¯é€‰)
        "tail_play": 1,                 // å°¾æ•°æ˜¯å¦å¯ç©(å¯é€‰): 0-å¦ 1-æ˜¯
        "coin_count": 3,                // æŠ•å¸æ¡£ä½æ•°(å¯é€‰)
        "coin_levels": [1, 5, 10]       // æ¡£ä½æ•°ç»„(å¯é€‰)
      }
      ```
    - è¿”å›: æ›´æ–°åçš„è®¾å¤‡è¯¦ç»†ä¿¡æ¯
    - è¯´æ˜: åœ¨çº¿çŠ¶æ€ä¸èƒ½é€šè¿‡æ­¤æ¥å£æ›´æ–°ï¼Œåªèƒ½é€šè¿‡è®¾å¤‡æœåŠ¡æ›´æ–°

  - æ‰¹é‡é‡æ–°åˆ†ç»„ï¼ˆæ”¯æŒè·¨åœºåœ°è¿ç§»ï¼‰
    - url: /api/v1/devices/reassign-group
    - è¯·æ±‚æ–¹å¼: POST (cookieè®¤è¯)
    - è¯·æ±‚å‚æ•°:
      ```json
      {
        "device_ids": [1, 2, 3],     // è®¾å¤‡IDåˆ—è¡¨ï¼ˆå¿…å¡«ï¼Œä¸”ä¸å¯é‡å¤ï¼‰
        "target_group_id": 10        // ç›®æ ‡åˆ†ç»„IDï¼ˆå¿…å¡«ï¼‰
      }
      ```
    - è¿”å›: æ‰¹é‡å¤„ç†ç»“æœ
    - ç¤ºä¾‹:
      - è¿”å›:
      ```json
      {
        "success": true,
        "err_code": "0",
        "err_message": "",
        "data": {
          "target_place_id": 5,      // ç›®æ ‡åœºåœ°IDï¼ˆå–ç›®æ ‡åˆ†ç»„æ‰€å±åœºåœ°ï¼‰
          "target_group_id": 10,     // ç›®æ ‡åˆ†ç»„ID
          "updated": 2,              // å®é™…è¿ç§»æ•°é‡
          "skipped": 1               // å·²åœ¨ç›®æ ‡åˆ†ç»„çš„æ•°é‡
        }
      }
      ```
    - è¯´æ˜:
      - å…è®¸è·¨åœºåœ°è¿ç§»ï¼šä»¥ç›®æ ‡åˆ†ç»„æ‰€å± `place_id` ä½œä¸ºç›®æ ‡åœºåœ°
      - å…¥å‚æ ¡éªŒï¼š`device_ids` ä¸èƒ½ä¸ºç©ºã€ä¸å¯é‡å¤ï¼›`target_group_id` å¿…é¡»å­˜åœ¨ä¸”å±äºå½“å‰ç§Ÿæˆ·
      - åŸå­æ€§ï¼šä»»ä¸€è®¾å¤‡ä¸å­˜åœ¨/æ— æƒé™/ç›®æ ‡åˆ†ç»„éæ³• â†’ æ•´å•å¤±è´¥å¹¶å›æ»šï¼ˆä¸ä¼šéƒ¨åˆ†æˆåŠŸï¼‰
      - ä¸è®¾ç½®å•æ¬¡æ•°é‡ä¸Šé™ï¼Œä½†å»ºè®®å‰ç«¯æŒ‰æ‰¹æ¬¡æäº¤ï¼Œé¿å…è¶…å¤§è¯·æ±‚å¯¼è‡´è¶…æ—¶

  - è·å–åœºåœ°ç­›é€‰é€‰é¡¹
    - url: /api/v1/devices/filter-options/places
    - è¯·æ±‚æ–¹å¼: GET (cookieè®¤è¯)
    - å‚æ•°: æ— 
    - è¿”å›: å¯ç­›é€‰çš„åœºåœ°åˆ—è¡¨
    - ç¤ºä¾‹:
      - è¿”å›:
      ```json
      {
        "success": true,
        "err_code": "0",
        "err_message": "",
        "data": {
          "options": [
            {
              "id": 1,
              "name": "ä¸‡è¾¾å¹¿åœº"
            },
            {
              "id": 2,
              "name": "é“¶æ³°åŸ"
            },
            {
              "id": 3,
              "name": "é¾™æ¹–å¤©è¡—"
            }
          ]
        }
      }
      ```
    - è¯´æ˜: åªè¿”å›æœ‰è®¾å¤‡çš„åœºåœ°ï¼Œæ”¯æŒå¤šç§Ÿæˆ·éš”ç¦»

  - è·å–åˆ†ç»„ç­›é€‰é€‰é¡¹
    - url: /api/v1/devices/filter-options/groups
    - è¯·æ±‚æ–¹å¼: GET (cookieè®¤è¯)
    - æŸ¥è¯¢å‚æ•°: place_id (å¯é€‰ï¼ŒæŒ‡å®šåœºåœ°ID)
    - è¿”å›: å¯ç­›é€‰çš„åˆ†ç»„åˆ—è¡¨
    - ç¤ºä¾‹:
      - è¯·æ±‚: /api/v1/devices/filter-options/groups?place_id=1
      - è¿”å›:
      ```json
      {
        "success": true,
        "err_code": "0",
        "err_message": "",
        "data": {
          "options": [
            {
              "id": 1,
              "name": "AåŒºå¨ƒå¨ƒæœº"
            },
            {
              "id": 2,
              "name": "BåŒºæ¨å¸æœº"
            },
            {
              "id": 3,
              "name": "CåŒºå¤¹å¨ƒå¨ƒ"
            }
          ]
        }
      }
      ```
    - è¯´æ˜: 
      - ä¸æŒ‡å®šplace_idæ—¶è¿”å›æ‰€æœ‰åˆ†ç»„
      - åªè¿”å›æœ‰è®¾å¤‡çš„åˆ†ç»„
      - æ”¯æŒå¤šç§Ÿæˆ·éš”ç¦»

- è®¾å¤‡æ³¨å†Œé¡µé¢
  - è·å–å½“å‰æ³¨å†ŒçŠ¶æ€
    - url: /api/v1/device-register/current
    - è¯·æ±‚æ–¹å¼: GET (cookieè®¤è¯)
    - å‚æ•°: æ— 
    - è¿”å›: å½“å‰è¿›è¡Œä¸­çš„è®¾å¤‡æ³¨å†ŒçŠ¶æ€
    - ç¤ºä¾‹:
      - è¿”å›:
      ```json
      {
        "success": true,
        "err_code": "0",
        "err_message": "",
        "data": {
          "id": 3,                          // æ³¨å†Œæ‰¹æ¬¡IDï¼Œnullè¡¨ç¤ºæ— è¿›è¡Œä¸­æ³¨å†Œ
          "place_id": 1,
          "place_name": "ä¸‡è¾¾å¹¿åœº",
          "group_id": 2,
          "group_name": "AåŒºå¨ƒå¨ƒæœº",
          "total": 50,                      // æœ€å¤§æ³¨å†Œæ•°
          "count": 12,                      // æ³¨å†ŒæˆåŠŸæ•°
          "point_coin": 10,                 // ç§¯åˆ†æ¯å¸
          "tail_play": 1,                   // å°¾æ•°æ˜¯å¦å¯ç© 0:å¦ 1:æ˜¯
          "coin_count": 3,                  // æŠ•å¸æ¡£ä½æ•°
          "coin_levels": [1, 5, 10],        // æ¡£ä½æ•°ç»„
          "coin_limit": 100,                // æŠ•å¸é™é¢(æ— æŠ•å¸å™¨è®¾å¤‡ä¸“ç”¨)
          "status": 1,                      // çŠ¶æ€ 0:æœªå¼€å§‹ 1:è¿›è¡Œä¸­ 2:å·²ç»“æŸ 3:å·²å–æ¶ˆ
          "created_at": "2024-01-30T14:20:00Z",
          "end_time": null                  // ç»“æŸæ—¶é—´ï¼Œè¿›è¡Œä¸­ä¸ºnull
        }
      }
      ```
    - è¯´æ˜: ä»»ä½•æ—¶å€™æœ€å¤šåªæœ‰ä¸€æ¡è¿›è¡Œä¸­çš„è®¾å¤‡æ³¨å†Œè®°å½•

  - è·å–æœ€è¿‘æ³¨å†Œæ—¥å¿—
    - url: /api/v1/device-register/logs/recent
    - è¯·æ±‚æ–¹å¼: GET (cookieè®¤è¯)
    - å‚æ•°: æ— 
    - è¿”å›: æœ€è¿‘5æ¡è®¾å¤‡æ³¨å†Œæ—¥å¿—
    - ç¤ºä¾‹:
      - è¿”å›:
      ```json
      {
        "success": true,
        "err_code": "0",
        "err_message": "",
        "data": [
          {
            "id": 15,
            "device_register_id": 3,
            "device_no": "DEV-2024-015",
            "place_name": "ä¸‡è¾¾å¹¿åœº",
            "group_name": "AåŒºå¨ƒå¨ƒæœº",
            "device_type_name": "å¤¹å¨ƒå¨ƒæœº",
            "result": 1,                    // ç»“æœ 0:æœªå¼€å§‹ 1:æˆåŠŸ 2:å¤±è´¥
            "result_msg": "è®¾å¤‡æ³¨å†ŒæˆåŠŸ",
            "created_at": "2024-01-30T14:23:45Z"
          },
          {
            "id": 14,
            "device_register_id": 3,
            "device_no": "DEV-2024-014",
            "place_name": "ä¸‡è¾¾å¹¿åœº",
            "group_name": "AåŒºå¨ƒå¨ƒæœº",
            "device_type_name": "å¤¹å¨ƒå¨ƒæœº",
            "result": 2,
            "result_msg": "è¿æ¥è¶…æ—¶",
            "created_at": "2024-01-30T14:23:20Z"
          }
        ]
      }
      ```

  - å¼€å§‹è®¾å¤‡æ³¨å†Œ
    - url: /api/v1/device-register/start
    - è¯·æ±‚æ–¹å¼: POST (cookieè®¤è¯)
    - è¯·æ±‚å‚æ•°:
      ```json
      {
        "place_id": 1,                  // åœºåœ°ID
        "group_id": 2,                  // åˆ†ç»„ID
        "total": 50,                    // æ³¨å†Œè®¾å¤‡æ€»æ•°
        "point_coin": 10,               // ç§¯åˆ†æ¯å¸(å¯é€‰)
        "tail_play": 1,                 // å°¾æ•°æ˜¯å¦å¯ç©(å¯é€‰) 0:å¦ 1:æ˜¯
        "coin_count": 3,                // æŠ•å¸æ¡£ä½æ•°(å¯é€‰)
        "coin_levels": [1, 5, 10],      // æ¡£ä½æ•°ç»„(å¯é€‰)
        "coin_limit": 100               // æŠ•å¸é™é¢(å¯é€‰ï¼Œæ— æŠ•å¸å™¨è®¾å¤‡ä¸“ç”¨)
      }
      ```
    - è¿”å›: åˆ›å»ºçš„æ³¨å†Œæ‰¹æ¬¡ä¿¡æ¯
    - ç¤ºä¾‹:
      - è¿”å›:
      ```json
      {
        "success": true,
        "err_code": "0",
        "err_message": "",
        "data": {
          "id": 4,
          "place_id": 1,
          "place_name": "ä¸‡è¾¾å¹¿åœº",
          "group_id": 2,
          "group_name": "AåŒºå¨ƒå¨ƒæœº",
          "total": 50,
          "count": 0,
          "point_coin": 10,
          "tail_play": 1,
          "coin_count": 3,
          "coin_levels": [1, 5, 10],
          "coin_limit": 100,
          "status": 1,
          "created_at": "2024-01-30T14:30:00Z",
          "end_time": null
        }
      }
      ```
    - è¯´æ˜: å¼€å§‹å‰ä¼šæ£€æŸ¥æ˜¯å¦å·²æœ‰è¿›è¡Œä¸­çš„æ³¨å†Œï¼Œæœ‰åˆ™è¿”å›é”™è¯¯

  - åœæ­¢è®¾å¤‡æ³¨å†Œ
    - url: /api/v1/device-register/stop
    - è¯·æ±‚æ–¹å¼: POST (cookieè®¤è¯)
    - å‚æ•°: æ— 
    - è¿”å›: æ“ä½œç»“æœ
    - ç¤ºä¾‹:
      - è¿”å›:
      ```json
      {
        "success": true,
        "err_code": "0",
        "err_message": "",
        "data": null
      }
      ```
    - è¯´æ˜: å°†å½“å‰è¿›è¡Œä¸­çš„æ³¨å†ŒçŠ¶æ€æ”¹ä¸ºå·²å–æ¶ˆ(status=3)

  - è·å–æ³¨å†Œæ‰¹æ¬¡åˆ—è¡¨
    - url: /api/v1/device-register/batches
    - è¯·æ±‚æ–¹å¼: GET (cookieè®¤è¯)
    - æŸ¥è¯¢å‚æ•°:
      - page (å¯é€‰): é¡µç ï¼Œä»1å¼€å§‹ï¼Œé»˜è®¤1
      - page_size (å¯é€‰): æ¯é¡µå¤§å°ï¼Œé»˜è®¤10ï¼Œæœ€å¤§100
      - search (å¯é€‰): æœç´¢åœºåœ°åç§°æˆ–åˆ†ç»„åç§°
      - place_id (å¯é€‰): åœºåœ°ç­›é€‰
      - group_id (å¯é€‰): åˆ†ç»„ç­›é€‰
      - status (å¯é€‰): çŠ¶æ€ç­›é€‰ 0:æœªå¼€å§‹ 1:è¿›è¡Œä¸­ 2:å·²ç»“æŸ 3:å·²å–æ¶ˆ
    - è¿”å›: æ³¨å†Œæ‰¹æ¬¡å†å²åˆ—è¡¨
    - ç¤ºä¾‹:
      - è¯·æ±‚: /api/v1/device-register/batches?page=1&page_size=10&search=ä¸‡è¾¾
      - è¿”å›:
      ```json
      {
        "success": true,
        "err_code": "0",
        "err_message": "",
        "data": [
          {
            "id": 3,
            "place_id": 1,
            "place_name": "ä¸‡è¾¾å¹¿åœº",
            "group_id": 2,
            "group_name": "AåŒºå¨ƒå¨ƒæœº",
            "total": 50,
            "count": 12,
            "point_coin": 10,
            "tail_play": 1,
            "coin_count": 3,
            "coin_levels": [1, 5, 10],
            "coin_limit": 100,
            "status": 1,
            "created_at": "2024-01-30T14:20:00Z",
            "end_time": null
          },
          {
            "id": 2,
            "place_id": 2,
            "place_name": "é“¶æ³°åŸ",
            "group_name": "BåŒºæ¨å¸æœº",
            "total": 30,
            "count": 25,
            "point_coin": 20,
            "tail_play": 0,
            "coin_count": 4,
            "coin_levels": [1, 2, 5, 10],
            "coin_limit": 0,
            "status": 2,
            "created_at": "2024-01-30T10:00:00Z",
            "end_time": "2024-01-30T10:30:00Z"
          }
        ],
        "total": 15,
        "page_size": 10,
        "has_more": true,
        "current_page": 1,
        "total_pages": 2
      }
      ```
    - è¯´æ˜: æŒ‰IDå€’åºæ˜¾ç¤ºï¼Œæ”¯æŒå¤šç»´åº¦ç­›é€‰å’Œæœç´¢

  - è·å–æ‰¹æ¬¡æ³¨å†Œæ—¥å¿—
    - url: /api/v1/device-register/logs/{batch_id}
    - è¯·æ±‚æ–¹å¼: GET (cookieè®¤è¯)
    - å‚æ•°: batch_id (è·¯å¾„å‚æ•°ï¼Œæ³¨å†Œæ‰¹æ¬¡ID)
    - è¿”å›: æŒ‡å®šæ‰¹æ¬¡çš„è®¾å¤‡æ³¨å†Œè¯¦ç»†æ—¥å¿—
    - ç¤ºä¾‹:
      - è¿”å›:
      ```json
      {
        "success": true,
        "err_code": "0",
        "err_message": "",
        "data": [
          {
            "id": 25,
            "device_register_id": 3,
            "device_no": "DEV-2024-025",
            "place_name": "ä¸‡è¾¾å¹¿åœº",
            "group_name": "AåŒºå¨ƒå¨ƒæœº",
            "device_type_name": "å¤¹å¨ƒå¨ƒæœº",
            "result": 1,
            "result_msg": "è®¾å¤‡æ³¨å†ŒæˆåŠŸ",
            "created_at": "2024-01-30T14:25:00Z"
          },
          {
            "id": 24,
            "device_register_id": 3,
            "device_no": "DEV-2024-024",
            "place_name": "ä¸‡è¾¾å¹¿åœº",
            "group_name": "AåŒºå¨ƒå¨ƒæœº",
            "device_type_name": "å¤¹å¨ƒå¨ƒæœº",
            "result": 2,
            "result_msg": "è®¾å¤‡å“åº”è¶…æ—¶",
            "created_at": "2024-01-30T14:24:30Z"
          }
        ]
      }
      ```

  - è·å–åœºåœ°åˆ—è¡¨
    - url: /api/v1/device-register/places
    - è¯·æ±‚æ–¹å¼: GET (cookieè®¤è¯)
    - å‚æ•°: æ— 
    - è¿”å›: åœºåœ°åˆ—è¡¨
    - ç¤ºä¾‹:
      - è¿”å›:
      ```json
      {
        "success": true,
        "err_code": "0",
        "err_message": "",
        "data": [
          {
            "id": 1,
            "name": "ä¸‡è¾¾å¹¿åœº",
            "address": "æ­å·å¸‚è¥¿æ¹–åŒºä¸‡è¾¾å¹¿åœº3æ¥¼",
            "device_count": 42,
            "status": 0
          },
          {
            "id": 2,
            "name": "é“¶æ³°åŸ",
            "address": "æ­å·å¸‚æ‹±å¢…åŒºé“¶æ³°åŸ4æ¥¼",
            "device_count": 35,
            "status": 0
          }
        ]
      }
      ```

  - è·å–åœºåœ°åˆ†ç»„åˆ—è¡¨
    - url: /api/v1/device-register/groups/{place_id}
    - è¯·æ±‚æ–¹å¼: GET (cookieè®¤è¯)
    - å‚æ•°: place_id (è·¯å¾„å‚æ•°ï¼Œåœºåœ°ID)
    - è¿”å›: æŒ‡å®šåœºåœ°çš„åˆ†ç»„åˆ—è¡¨
    - ç¤ºä¾‹:
      - è¿”å›:
      ```json
      {
        "success": true,
        "err_code": "0",
        "err_message": "",
        "data": [
          {
            "id": 1,
            "place_id": 1,
            "name": "AåŒºå¨ƒå¨ƒæœº",
            "device_count": 15
          },
          {
            "id": 2,
            "place_id": 1,
            "name": "BåŒºæ¨å¸æœº",
            "device_count": 12
          },
          {
            "id": 3,
            "place_id": 1,
            "name": "CåŒºå¤¹å¨ƒå¨ƒ",
            "device_count": 15
          }
        ]
      }
      ```

  - è·å–è®¾å¤‡ç±»å‹åˆ—è¡¨
    - url: /api/v1/device-register/device-types
    - è¯·æ±‚æ–¹å¼: GET (cookieè®¤è¯)
    - å‚æ•°: æ— 
    - è¿”å›: è®¾å¤‡ç±»å‹åˆ—è¡¨
    - ç¤ºä¾‹:
      - è¿”å›:
      ```json
      {
        "success": true,
        "err_code": "0",
        "err_message": "",
        "data": [
          {
            "id": 1,
            "name": "å¤¹å¨ƒå¨ƒæœº"
          },
          {
            "id": 2,
            "name": "æ¨å¸æœº"
          },
          {
            "id": 3,
            "name": "å¼¹ç æœº"
          }
        ]
      }
      ```

- å®æ—¶ç›‘æ§é¡µé¢
  - è·å–å®æ—¶ç›‘æ§ç»Ÿè®¡
    - url: /api/v1/monitoring/stats
    - è¯·æ±‚æ–¹å¼: GET (cookieè®¤è¯)
    - å‚æ•°: æ— 
    - è¿”å›: å®æ—¶ç»Ÿè®¡æ•°æ®
    - ç¤ºä¾‹:
      - è¿”å›:
      ```json
      {
        "success": true,
        "err_code": "0",
        "err_message": "",
        "data": {
          "realTimeRevenue": 12580,      // å®æ—¶æ”¶ç›Šï¼ˆå…ƒï¼‰ï¼Œç­‰äºæŠ•å¸æ•°
          "activeDevices": 142,          // æ´»è·ƒè®¾å¤‡æ•°
          "gameCount": 1847,             // æ¸¸æˆæ¬¡æ•°ï¼ˆä»Šæ—¥æ¸¸æˆè®¢å•æ•°ï¼‰
          "gameRefund": 23               // æ¸¸æˆé€€åˆ†æ•°
        }
      }
      ```
    - è¯´æ˜: å®æ—¶æ”¶ç›Šæ•°æ®ä¸æŠ•å¸æ•°ç›¸ç­‰(1ä¸ªå¸1å…ƒ)ï¼Œæ¸¸æˆæ¬¡æ•°ä¸ºæ¸¸æˆè®¢å•æ•°

  - è·å–åœºåœ°çŠ¶æ€ç›‘æ§
    - url: /api/v1/monitoring/venues
    - è¯·æ±‚æ–¹å¼: GET (cookieè®¤è¯)
    - å‚æ•°: æ— 
    - è¿”å›: åœºåœ°çŠ¶æ€æ•°æ®
    - ç¤ºä¾‹:
      - è¿”å›:
      ```json
      {
        "success": true,
        "err_code": "0",
        "err_message": "",
        "data": {
          "venues": [
            {
              "name": "ä¸‡è¾¾å¹¿åœº",
              "activeDevices": 38,           // æ´»è·ƒè®¾å¤‡æ•°
              "gameCount": 524,              // æ¸¸æˆæ•°
              "revenue": 3245,               // æ”¶ç›Š
              "refundCount": 18,             // é€€åˆ†æ•°
              "status": "normal"             // çŠ¶æ€ normal/warning
            },
            {
              "name": "é“¶æ³°åŸ",
              "activeDevices": 32,
              "gameCount": 445,
              "revenue": 2890,
              "refundCount": 35,
              "status": "warning"            // é€€åˆ†æ•°>30åˆ™ä¸ºwarning
            }
          ]
        }
      }
      ```
    - è¯´æ˜: è¿”å›æ‰€æœ‰åœºåœ°çš„å®æ—¶çŠ¶æ€ï¼Œé€€åˆ†æ•°è¶…è¿‡30æ—¶çŠ¶æ€ä¸ºwarning

  - è·å–å®æ—¶è­¦æŠ¥
    - url: /api/v1/monitoring/alerts
    - è¯·æ±‚æ–¹å¼: GET (cookieè®¤è¯)
    - å‚æ•°: æ— 
    - è¿”å›: å®æ—¶è­¦æŠ¥æ•°æ®
    - ç¤ºä¾‹:
      - è¿”å›:
      ```json
      {
        "success": true,
        "err_code": "0",
        "err_message": "",
        "data": {
          "alerts": [
            {
              "id": 1,
              "message": "è®¾å¤‡\"DEV001\"æ— æŠ•å¸åº”ç­”",
              "time": "2åˆ†é’Ÿå‰",             // ç›¸å¯¹æ—¶é—´
              "type": "warning",             // å›ºå®šä¸ºwarning
              "venue": "ä¸‡è¾¾å¹¿åœº"
            },
            {
              "id": 2,
              "message": "è®¾å¤‡\"DEV002\"æ— æŠ•å¸åº”ç­”",
              "time": "5åˆ†é’Ÿå‰",
              "type": "warning",
              "venue": "é“¶æ³°åŸ"
            }
          ]
        }
      }
      ```
    - è¯´æ˜: å±•ç¤ºå¾…ç¡®è®¤è®¢å•ï¼Œåˆ›å»ºæ—¶é—´è·å½“å‰æ—¶é—´2åˆ†é’Ÿä»¥ä¸Šï¼Œæ¶ˆæ¯æ ¼å¼ä¸º"è®¾å¤‡\"è®¾å¤‡å·\"æ— æŠ•å¸åº”ç­”"
